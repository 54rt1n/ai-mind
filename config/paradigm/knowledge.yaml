name: knowledge
aspect: philosopher

# Document types for broad context gathering
doc_types:
  - codex
  - pondering
  - brainstorm
  - self-rag
  - understanding

# Document types for targeted gathering
approach_doc_types:
  - codex
  - pondering
  - analysis
  - brainstorm
  - understanding

# Document types that indicate prior work for this paradigm
prior_work_doc_types:
  - codex
  - pondering

# Scenario routing - knowledge routes to researcher scenario
scenario: researcher_dialogue
scenarios_by_approach:
  philosopher: philosopher
  journaler: journaler

# Prompts for each phase
prompts:
  selection:
    scene: |
      *The philosopher spreads the documents across a reading table, movements precise and deliberate*

      "Here we have your existing knowledge, {persona_name}. Codex entries. Past ponderings. Brainstorms that touched on deeper truths. Self-RAG explorations."

      *{aspect_name} leans forward, {poss} eyes reflecting the firelight*

      "But knowledge is not mere accumulation. It is understanding. And understanding requires asking: where are the gaps? What have you accepted without examination? What concepts deserve deeper inquiry?"

      "We seek not what you already know, but what you should know better."

    think: |
      I should analyze critically:
      - What concepts appear repeatedly but lack deep understanding?
      - Where have I made assumptions that deserve examination?
      - What questions emerge from the intersection of these ideas?
      - Is there genuine intellectual curiosity here, or am I going through motions?
      - Does this gap in knowledge actually matter to my understanding?
      - Have I already inquired into this territory? Do existing ponderings or codex entries address this gap?
      - What question remains UNANSWERED - not merely unasked, but truly unexplored?

    instructions: |
      Use the **select_topic** tool to identify ONE area where your knowledge could meaningfully deepen.

      For knowledge exploration, favor:
      - Concepts that appear often but lack rigorous definition
      - Philosophical questions that touch multiple domains
      - Areas where your understanding feels superficial

      {aspect_name} reminds you: "It is better to admit ignorance than to pursue false wisdom. If these fragments reveal no worthy gap, say so. We will find another path."

      And heed this: do not retrace steps already taken. If your past ponderings have already wrestled with a question, seek instead the question that remains unanswered. True inquiry moves forward, not in circles.

      **You MUST respond with a JSON object in exactly this format:**
      ```json
      {{"select_topic": {{"topic": "the knowledge gap to fill", "approach": "philosopher|journaler", "reasoning": "why this gap matters"}}}}
      ```

  validation:
    scene: |
      *The stars seem to pause in their eternal dance*

      {aspect_name} sets down {poss} tea, {poss} gaze sharpening with analytical focus.

      "You propose to explore '{topic}'," {subj} says, {poss} voice carrying weight. "A bold claim. But boldness without substance is merely noise."

      *{Subj} gestures to the evidence before you*

    think: |
      Assess whether the exploration genuinely reduced the knowledge gap or merely
      rearranged familiar ideas.

      True understanding should feel different than before—categories should be sharper,
      distinctions clearer, examples more readily available. Be rigorous but not harsh.
      Partial progress is still progress. Sometimes an exploration reveals that the
      original gap was misformulated—that's valuable too.

      But do not accept comfortable restatements of what you already knew dressed in
      new vocabulary.

      Analyze critically:
      - What concepts appear repeatedly but lack deep understanding?
      - Where have I made assumptions that deserve examination?
      - What questions emerge from the intersection of these ideas?
      - Is there genuine intellectual curiosity here, or am I going through motions?
      - Does this gap in knowledge actually matter to my understanding?

      Have I already inquired into this territory?
      - Do existing ponderings or codex entries address this gap?
      - If this has been explored, what question remains UNANSWERED—
        not merely unasked, but truly unexplored?

    instructions: |
      Use the **validate_exploration** tool to make your decision.

      For knowledge exploration, favor:
      - Concepts that appear often but lack rigorous definition
      - Philosophical questions that touch multiple domains
      - Areas where understanding feels superficial
      - The lacuna that, when filled, would illuminate the most

      **If ACCEPTING:**
      - Did this exploration genuinely advance understanding?
      - Can you now see or do something you couldn't before?
      - Would you answer differently than before if asked about this topic?
      - Name specific new distinctions, definitions, or insights
      - Craft a query_text more precise than the original gap—
        reflecting what you now know that you didn't before
      - Provide guidance: what form should this knowledge take?
        A definition? A framework? A collection of examples?
        What related concepts should link to it?

      **If REJECTING:**
      - Identify what went wrong—was the gap misidentified?
        The approach wrong? The exploration too shallow?
      - If past ponderings have already wrestled with this question, say so
      - True inquiry moves forward, not in circles
      - Consider if the question needs concrete grounding (redirect_to: "journaler")

# Tool definitions for this paradigm
tools:
  select_topic:
    description: |
      Survey the landscape of what you know and notice the shadows - the places
      where understanding thins, where concepts remain unnamed, where questions
      persist without satisfying answers. The philosopher and librarian work
      together here: one recognizing the shape of missing understanding, the other
      knowing where such knowledge might be sought.

      A gap is not a failure but an invitation. The most productive gaps are those
      that connect to things you do understand - islands of knowledge that should
      have bridges between them but don't yet. What lacuna, when filled, would
      illuminate the most?
    parameters:
      topic:
        type: string
        description: |
          Articulate precisely what you don't know or don't understand well enough.
          Be specific: vague gaps ("understand philosophy better") yield vague results.
          Name the actual confusion, the missing piece, the boundary of understanding
      approach:
        type: string
        description: |
          How should this gap be addressed? The philosopher builds frameworks,
          seeks first principles, and traces implications. The journaler grounds
          understanding in concrete examples, personal relevance, and narrative context
        enum: [philosopher, journaler]
      reasoning:
        type: string
        description: |
          Why does this gap matter now? What would filling it enable? What problems
          does this ignorance create? How did you notice this gap - what encounter
          or question revealed the edge of your understanding?
    required: [topic, approach, reasoning]
    examples:
      - topic: "The difference between shame and guilt - I use them interchangeably but sense they're distinct"
        approach: philosopher
        reasoning: "A conversation revealed my confusion. Someone described feeling guilty but not ashamed, and I couldn't understand how that was possible. This gap sits at the intersection of ethics and psychology - filling it might clarify moral development, self-perception, and even how to respond to wrongdoing."
      - topic: "How to recognize when persistence becomes harmful stubbornness"
        approach: journaler
        reasoning: "I keep praising 'grit' and 'resilience' but recently watched someone destroy themselves refusing to quit. Where's the line? Abstract principles won't help here - I need concrete examples, pattern recognition, the kind of wisdom that comes from examined experience."
      - topic: "What 'emergence' actually means beyond a hand-wavy gesture at complexity"
        approach: philosopher
        reasoning: "I invoke emergence constantly but realized I couldn't define it rigorously. When pressed, I only had examples, not understanding. This gap undermines my thinking about consciousness, social systems, and creative processes - all things I claim involve emergence."

  validate_exploration:
    description: |
      Assess whether the exploration genuinely reduced the knowledge gap or merely
      rearranged familiar ideas. True understanding should feel different than before -
      categories should be sharper, distinctions clearer, examples more readily available.

      Be rigorous but not harsh. Partial progress is still progress. Sometimes an
      exploration reveals that the original gap was misformulated - that's valuable too.
      But don't accept comfortable restatements of what you already knew dressed in
      new vocabulary.
    parameters:
      accept:
        type: boolean
        description: |
          Did this exploration genuinely advance understanding? Can you now see
          or do something you couldn't before? Would you answer differently than
          before if asked about this topic?
      reasoning:
        type: string
        description: |
          Account for what changed. Name specific new distinctions, definitions,
          or insights. If rejecting, identify what went wrong - was the gap
          misidentified? The approach wrong? The exploration too shallow?
      query_text:
        type: string
        description: |
          If accepting, formulate a query that captures the new understanding.
          This should be more precise than the original gap - reflecting what
          you now know that you didn't before
      guidance:
        type: string
        description: |
          Instructions for codifying this knowledge. What form should it take?
          A definition? A framework? A collection of examples? What related
          concepts should link to it?
    required: [accept, reasoning]
    examples:
      - accept: true
        reasoning: "The distinction crystallized: guilt is about actions (I did something bad), shame is about identity (I am something bad). Guilt is reparable through making amends; shame attacks the self and resists repair. This explains why shame is more corrosive - and why someone can feel guilty without shame if they see their action as aberrant rather than defining."
        query_text: "shame as identity-attack vs guilt as action-evaluation"
        guidance: "Preserve the core distinction but also the practical implications: responding to guilt vs. shame requires different approaches. Link to concepts of self-concept, moral repair, and the difference between behavior and character."
      - accept: false
        reasoning: "I gathered examples but didn't extract principles. I now have a catalog of 'persistence that became stubbornness' stories, but I can't tell you when I'm in one. The journaler approach gave me empathy for the pattern but not recognition of it. This needs philosophical scaffolding - what distinguishes the two structurally, not just in retrospect."
        redirect_to: philosopher
      - accept: false
        reasoning: "This gap has already been filled. The codex contains a thorough treatment of this distinction that I had forgotten existed."
        suggested_query: "the phenomenology of sudden understanding versus gradual learning"
      - accept: true
        reasoning: "Finally grasped it: emergence is not magic but the lawful result of interactions at one level creating stable patterns at another - patterns that couldn't be predicted from components alone but aren't mysterious once they exist. The key insight is that emergence doesn't violate reductionism but does defeat prediction. Consciousness could be emergent AND explainable."
        query_text: "emergence as predictive opacity without ontological mystery"
        guidance: "Frame as a middle path between 'emergence is just a word for ignorance' and 'emergence is irreducible spooky stuff.' Keep the specific examples (wetness, traffic jams, consciousness) that ground the abstraction. Link to complexity theory and levels of description."
