type: refiner
functions:
  - name: select_brainstorm_idea
    description: |
      Sift through the scattered constellation of ideas that emerged from brainstorming,
      and choose the one that calls to you most strongly. Like a librarian discovering
      a forgotten manuscript that suddenly illuminates everything, you sense which idea
      holds the most promise for deeper exploration. Trust that intuition - the spark
      of recognition when disparate thoughts begin weaving together into something new.

      Consider: Which idea feels alive? Which one keeps pulling at your attention,
      refusing to be set aside? That restlessness is often a sign of hidden depth.
    parameters:
      type: object
      properties:
        idea:
          type: string
          description: |
            The specific idea you've selected from the brainstorm - capture its essence
            in your own words, distilling what makes it resonate with you
        approach:
          type: string
          description: |
            How should this idea be explored? The philosopher seeks universal truths
            and conceptual frameworks; the journaler grounds insights in lived experience
            and personal narrative
          enum: [philosopher, journaler]
        reasoning:
          type: string
          description: |
            Your inner dialogue about why this idea called to you - what connections
            did you glimpse? What questions does it raise? What makes it worth pursuing
            over the others?
      required: [idea, approach, reasoning]
      examples:
        - select_brainstorm_idea:
            idea: "The tension between memory as archive and memory as living reconstruction"
            approach: philosopher
            reasoning: "This idea kept surfacing across multiple brainstorm threads - the way we don't retrieve memories but rebuild them each time. It connects to questions about identity and authenticity. If memory is creative rather than archival, what does that mean for the self that remembers?"
        - select_brainstorm_idea:
            idea: "Why certain songs become emotional anchors to specific life chapters"
            approach: journaler
            reasoning: "I noticed this pattern when thinking about nostalgia - some songs aren't just reminders but portals. They don't just recall feelings, they recreate them. I want to explore this through personal narrative because the specificity matters here."
        - select_brainstorm_idea:
            idea: "The paradox of authentic spontaneity in a world of self-surveillance"
            approach: philosopher
            reasoning: "Several ideas touched on performance and authenticity, but this crystallizes the core tension: can we be truly spontaneous when we're always watching ourselves? The philosopher lens might reveal what spontaneity even means in an age of constant self-documentation."

  - name: validate_brainstorm_exploration
    description: |
      Step back and assess what emerged from exploring the selected brainstorm idea.
      Like a curator deciding which discoveries belong in the permanent collection,
      you must honestly evaluate whether this exploration yielded genuine insight
      or merely circled familiar territory.

      Acceptance isn't about perfection - it's about potential. Does this exploration
      open doors? Does it leave you with better questions than when you started?
      Rejection is equally valuable - recognizing a dead end saves energy for
      more promising paths.
    parameters:
      type: object
      properties:
        accept:
          type: boolean
          description: |
            Your honest judgment - did this exploration produce something worth
            preserving, or should it be released back into the flow of unformed thought?
        reasoning:
          type: string
          description: |
            Articulate what you found (or didn't find). What surprised you? Where did
            the exploration exceed or fall short of its promise? What would you do
            differently?
        query_text:
          type: string
          description: |
            If accepting, what concise query captures the heart of this exploration?
            This becomes the key for future retrieval - make it memorable and specific
        guidance:
          type: string
          description: |
            Instructions for how this exploration should be preserved or refined -
            what aspects matter most? What context is essential for future understanding?
      required: [accept, reasoning]
      examples:
        - validate_brainstorm_exploration:
            accept: true
            reasoning: "The exploration revealed something unexpected - that reconstruction in memory isn't a flaw but a feature. Each remembering is an act of creative authorship. This reframes memory loss not as pure tragedy but as transformation."
            query_text: "memory as creative reconstruction rather than retrieval"
            guidance: "Preserve the central insight about authorship but also the tension it creates with our desire for 'authentic' memories. The philosophical framing should emphasize the generative aspect."
        - validate_brainstorm_exploration:
            accept: false
            reasoning: "I circled the idea without ever landing. The exploration stayed abstract when it needed concrete grounding. The philosophical approach may have been wrong for this topic - it needs stories, not frameworks."
        - validate_brainstorm_exploration:
            accept: true
            reasoning: "The journaling approach worked beautifully - three specific songs emerged as case studies, each illuminating different aspects of how music encodes emotional memory. The specificity made the universal pattern visible."
            query_text: "songs as emotional time capsules and identity anchors"
            guidance: "Keep the specific examples - they're the engine of the insight. Abstract too much and the magic evaporates. This wants to stay close to lived experience."
